{"ast":null,"code":"var _jsxFileName = \"/Users/zzy/Documents/SelfBlog/blog-frontend/src/pages/BlogPostPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport './BlogPostPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BlogPostPage = () => {\n  _s();\n  var _post$author, _post$author2, _post$author3, _post$author4, _post$author5, _post$author6;\n  const {\n    id\n  } = useParams();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [post, setPost] = useState(null);\n  const [relatedPosts, setRelatedPosts] = useState([]);\n  useEffect(() => {\n    const fetchPost = async () => {\n      try {\n        setLoading(true);\n\n        // 获取文章详情\n        const response = await axios.get(`/api/posts/${id}`);\n        setPost(response.data);\n\n        // 增加浏览量\n        await axios.post(`/api/posts/${id}/view`);\n\n        // 获取相关文章\n        const relatedResponse = await axios.get(`/api/posts/${id}/related`);\n        setRelatedPosts(relatedResponse.data || []);\n        setLoading(false);\n      } catch (err) {\n        setError(err.message);\n        setLoading(false);\n\n        // 开发时模拟数据\n        if (id === '1') {\n          setPost({\n            id: 1,\n            title: 'Redis 缓存穿透、击穿与雪崩问题的解决方案',\n            content: `<p>在高并发系统中，缓存是提高系统性能的重要手段。但是，缓存也带来了一些问题，如缓存穿透、缓存击穿和缓存雪崩。本文将介绍这些问题及其解决方案。</p>\n            <h2>一、缓存穿透</h2>\n            <p><strong>问题描述：</strong>缓存穿透是指查询一个不存在的数据，由于缓存是不命中时需要从数据库查询，查不到数据则不写入缓存，这将导致这个不存在的数据每次请求都要到数据库去查询，造成数据库压力过大。</p>\n            <p><strong>解决方案：</strong></p>\n            <ol>\n              <li><strong>布隆过滤器：</strong>布隆过滤器是一种数据结构，用于判断一个元素是否在一个集合中。把所有可能存在的数据哈希到一个足够大的bitmap中，一个一定不存在的数据会被这个bitmap拦截掉，从而避免了对底层存储系统的查询压力。</li>\n              <li><strong>缓存空值：</strong>如果一个查询返回的数据为空（不管是数据不存在，还是系统故障），我们仍然把这个空结果进行缓存，但它的过期时间会很短，最长不超过五分钟。</li>\n            </ol>\n            <h2>二、缓存击穿</h2>\n            <p><strong>问题描述：</strong>缓存击穿是指某个热点key在过期的瞬间，同时有大量的请求打在这个key上，由于缓存过期，这些请求都会直接打到数据库上，就像是在一瞬间击穿了缓存一样。</p>\n            <p><strong>解决方案：</strong></p>\n            <ol>\n              <li><strong>互斥锁：</strong>在缓存失效的时候，不是立即去load数据库，而是先使用分布式锁，保证只有一个线程去查询数据库，其他线程等待。</li>\n              <li><strong>永不过期：</strong>从缓存层面来看，没有设置过期时间，所以不会出现缓存过期。而是为每个key设置一个逻辑过期时间，当发现过期时，通过一个后台线程进行缓存的构建。</li>\n            </ol>\n            <h2>三、缓存雪崩</h2>\n            <p><strong>问题描述：</strong>缓存雪崩是指在某一个时间段，缓存集中过期或者缓存服务宕机，导致大量的请求都直接落到数据库上，造成数据库瞬时压力过大而崩溃。</p>\n            <p><strong>解决方案：</strong></p>\n            <ol>\n              <li><strong>缓存失效时间分散：</strong>在原有的失效时间基础上增加一个随机值，比如1-5分钟随机，这样每一个缓存的过期时间的重复率就会降低，就很难引发集体失效的事件。</li>\n              <li><strong>热点数据永不过期：</strong>对于一些热点数据，可以设置永不过期，然后通过后台异步更新缓存。</li>\n              <li><strong>服务熔断降级：</strong>当检测到系统负载过高时，临时降低服务质量或停止服务，等待系统恢复正常后再继续提供服务。</li>\n              <li><strong>多级缓存：</strong>设置多级缓存，例如本地缓存+Redis缓存，即使Redis宕机，本地缓存仍然可以提供服务。</li>\n              <li><strong>Redis高可用：</strong>采用Redis集群，避免单机Redis服务不可用造成的缓存雪崩。</li>\n            </ol>\n            <h2>总结</h2>\n            <p>缓存穿透、缓存击穿和缓存雪崩都是高并发系统中常见的问题，了解这些问题并采取对应的解决方案可以有效提高系统的稳定性和性能。在实际系统设计中，应该根据业务特点和系统需求选择合适的解决方案。</p>`,\n            coverImage: '/images/blog/redis-small.jpg',\n            author: {\n              name: 'YOUNG',\n              profileImage: '/images/avatar0.jpg'\n            },\n            categories: [{\n              id: 3,\n              name: 'Redis应用'\n            }],\n            tags: ['Redis', '缓存', '高并发'],\n            publishedAt: '2023-09-22T10:30:00',\n            updatedAt: '2023-09-25T15:20:00',\n            viewCount: 231\n          });\n          setRelatedPosts([{\n            id: 4,\n            title: 'Redis实现分布式锁的最佳实践',\n            excerpt: '在分布式系统中，锁是一种重要的同步机制。本文介绍如何使用Redis实现一个高效、可靠的分布式锁。',\n            coverImage: '/images/blog/redis2-small.jpg',\n            publishedAt: '2023-10-15T09:30:00'\n          }, {\n            id: 5,\n            title: '使用Redis优化数据库查询性能',\n            excerpt: '数据库是系统性能的瓶颈之一，本文分享如何使用Redis缓存策略来优化数据库查询性能。',\n            coverImage: '/images/blog/redis3-small.jpg',\n            publishedAt: '2023-08-05T14:20:00'\n          }]);\n        }\n      }\n    };\n    fetchPost();\n\n    // 滚动到页面顶部\n    window.scrollTo(0, 0);\n  }, [id]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"blog-post-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u52A0\\u8F7D\\u4E2D...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !post) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"blog-post-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u6587\\u7AE0\\u52A0\\u8F7D\\u5931\\u8D25\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: error || '未找到该文章'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/blog\",\n            className: \"btn\",\n            children: \"\\u8FD4\\u56DE\\u535A\\u5BA2\\u5217\\u8868\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"blog-post-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-header\",\n      style: {\n        backgroundImage: `url(${post.coverImage || '/images/blog/default.jpg'})`\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post-header-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post-categories\",\n            children: post.categories && post.categories.map(category => /*#__PURE__*/_jsxDEV(Link, {\n              to: `/blog?category=${category.name}`,\n              children: category.name\n            }, category.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: post.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post-meta\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-author\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: ((_post$author = post.author) === null || _post$author === void 0 ? void 0 : _post$author.profileImage) || '/images/avatar0.jpg',\n                alt: (_post$author2 = post.author) === null || _post$author2 === void 0 ? void 0 : _post$author2.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: (_post$author3 = post.author) === null || _post$author3 === void 0 ? void 0 : _post$author3.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"post-date\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"far fa-calendar-alt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 19\n                }, this), new Date(post.publishedAt).toLocaleDateString('zh-CN')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this), post.updatedAt && post.updatedAt !== post.publishedAt && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"post-updated\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"far fa-edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 21\n                }, this), \"\\u66F4\\u65B0\\u4E8E \", new Date(post.updatedAt).toLocaleDateString('zh-CN')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"post-views\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"far fa-eye\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 19\n                }, this), post.viewCount || 0, \" \\u9605\\u8BFB\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"main\", {\n            className: \"post-main\",\n            children: [/*#__PURE__*/_jsxDEV(\"article\", {\n              className: \"post-body\",\n              dangerouslySetInnerHTML: {\n                __html: post.content\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-tags\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tags-title\",\n                children: \"\\u6807\\u7B7E\\uFF1A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }, this), post.tags && post.tags.map((tag, index) => /*#__PURE__*/_jsxDEV(Link, {\n                to: `/blog?search=${tag}`,\n                className: \"tag\",\n                children: tag\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-nav\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/blog\",\n                className: \"btn back-btn\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-arrow-left\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 19\n                }, this), \" \\u8FD4\\u56DE\\u535A\\u5BA2\\u5217\\u8868\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), relatedPosts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"related-posts\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u76F8\\u5173\\u6587\\u7AE0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"related-posts-grid\",\n                children: relatedPosts.map(relatedPost => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"related-post-card\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: `/blog/${relatedPost.id}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"related-post-image\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: relatedPost.coverImage || '/images/blog/default.jpg',\n                        alt: relatedPost.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 196,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"related-post-content\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        children: relatedPost.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 199,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: relatedPost.excerpt\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 200,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"related-post-date\",\n                        children: new Date(relatedPost.publishedAt).toLocaleDateString('zh-CN')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 201,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 198,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 25\n                  }, this)\n                }, relatedPost.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n            className: \"post-sidebar\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sidebar-widget about-author-widget\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u5173\\u4E8E\\u4F5C\\u8005\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"author-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: ((_post$author4 = post.author) === null || _post$author4 === void 0 ? void 0 : _post$author4.profileImage) || '/images/avatar0.jpg',\n                  alt: (_post$author5 = post.author) === null || _post$author5 === void 0 ? void 0 : _post$author5.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: ((_post$author6 = post.author) === null || _post$author6 === void 0 ? void 0 : _post$author6.name) || 'YOUNG'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\u8F6F\\u4EF6\\u5DE5\\u7A0B\\u4E13\\u4E1A\\u7814\\u7A76\\u751F\\uFF0C\\u4E13\\u6CE8\\u4E8E\\u5206\\u5E03\\u5F0F\\u7CFB\\u7EDF\\u3001\\u7F13\\u5B58\\u4F18\\u5316\\u4E0ERAG\\u5E94\\u7528\\u7814\\u7A76\\uFF0C\\u4E50\\u4E8E\\u5206\\u4EAB\\u6280\\u672F\\u7ECF\\u9A8C\\u3002\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"social-links\",\n                  children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"https://github.com\",\n                    target: \"_blank\",\n                    rel: \"noreferrer\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fab fa-github\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"https://linkedin.com\",\n                    target: \"_blank\",\n                    rel: \"noreferrer\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fab fa-linkedin\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"https://weixin.qq.com\",\n                    target: \"_blank\",\n                    rel: \"noreferrer\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fab fa-weixin\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"https://zhihu.com\",\n                    target: \"_blank\",\n                    rel: \"noreferrer\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fab fa-zhihu\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sidebar-widget toc-widget\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u76EE\\u5F55\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"toc-content\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"#\\u4E00\\u3001\\u7F13\\u5B58\\u7A7F\\u900F\",\n                      children: \"\\u4E00\\u3001\\u7F13\\u5B58\\u7A7F\\u900F\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 241,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"#\\u4E8C\\u3001\\u7F13\\u5B58\\u51FB\\u7A7F\",\n                      children: \"\\u4E8C\\u3001\\u7F13\\u5B58\\u51FB\\u7A7F\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"#\\u4E09\\u3001\\u7F13\\u5B58\\u96EA\\u5D29\",\n                      children: \"\\u4E09\\u3001\\u7F13\\u5B58\\u96EA\\u5D29\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"#\\u603B\\u7ED3\",\n                      children: \"\\u603B\\u7ED3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n};\n_s(BlogPostPage, \"6+qFDP/gEYyzTOKoJAnu8+VR0N0=\", false, function () {\n  return [useParams];\n});\n_c = BlogPostPage;\nexport default BlogPostPage;\nvar _c;\n$RefreshReg$(_c, \"BlogPostPage\");","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","axios","jsxDEV","_jsxDEV","BlogPostPage","_s","_post$author","_post$author2","_post$author3","_post$author4","_post$author5","_post$author6","id","loading","setLoading","error","setError","post","setPost","relatedPosts","setRelatedPosts","fetchPost","response","get","data","relatedResponse","err","message","title","content","coverImage","author","name","profileImage","categories","tags","publishedAt","updatedAt","viewCount","excerpt","window","scrollTo","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","style","backgroundImage","map","category","src","alt","Date","toLocaleDateString","dangerouslySetInnerHTML","__html","tag","index","length","relatedPost","href","target","rel","_c","$RefreshReg$"],"sources":["/Users/zzy/Documents/SelfBlog/blog-frontend/src/pages/BlogPostPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport './BlogPostPage.css';\n\nconst BlogPostPage = () => {\n  const { id } = useParams();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [post, setPost] = useState(null);\n  const [relatedPosts, setRelatedPosts] = useState([]);\n\n  useEffect(() => {\n    const fetchPost = async () => {\n      try {\n        setLoading(true);\n        \n        // 获取文章详情\n        const response = await axios.get(`/api/posts/${id}`);\n        setPost(response.data);\n        \n        // 增加浏览量\n        await axios.post(`/api/posts/${id}/view`);\n        \n        // 获取相关文章\n        const relatedResponse = await axios.get(`/api/posts/${id}/related`);\n        setRelatedPosts(relatedResponse.data || []);\n        \n        setLoading(false);\n      } catch (err) {\n        setError(err.message);\n        setLoading(false);\n        \n        // 开发时模拟数据\n        if (id === '1') {\n          setPost({\n            id: 1,\n            title: 'Redis 缓存穿透、击穿与雪崩问题的解决方案',\n            content: `<p>在高并发系统中，缓存是提高系统性能的重要手段。但是，缓存也带来了一些问题，如缓存穿透、缓存击穿和缓存雪崩。本文将介绍这些问题及其解决方案。</p>\n            <h2>一、缓存穿透</h2>\n            <p><strong>问题描述：</strong>缓存穿透是指查询一个不存在的数据，由于缓存是不命中时需要从数据库查询，查不到数据则不写入缓存，这将导致这个不存在的数据每次请求都要到数据库去查询，造成数据库压力过大。</p>\n            <p><strong>解决方案：</strong></p>\n            <ol>\n              <li><strong>布隆过滤器：</strong>布隆过滤器是一种数据结构，用于判断一个元素是否在一个集合中。把所有可能存在的数据哈希到一个足够大的bitmap中，一个一定不存在的数据会被这个bitmap拦截掉，从而避免了对底层存储系统的查询压力。</li>\n              <li><strong>缓存空值：</strong>如果一个查询返回的数据为空（不管是数据不存在，还是系统故障），我们仍然把这个空结果进行缓存，但它的过期时间会很短，最长不超过五分钟。</li>\n            </ol>\n            <h2>二、缓存击穿</h2>\n            <p><strong>问题描述：</strong>缓存击穿是指某个热点key在过期的瞬间，同时有大量的请求打在这个key上，由于缓存过期，这些请求都会直接打到数据库上，就像是在一瞬间击穿了缓存一样。</p>\n            <p><strong>解决方案：</strong></p>\n            <ol>\n              <li><strong>互斥锁：</strong>在缓存失效的时候，不是立即去load数据库，而是先使用分布式锁，保证只有一个线程去查询数据库，其他线程等待。</li>\n              <li><strong>永不过期：</strong>从缓存层面来看，没有设置过期时间，所以不会出现缓存过期。而是为每个key设置一个逻辑过期时间，当发现过期时，通过一个后台线程进行缓存的构建。</li>\n            </ol>\n            <h2>三、缓存雪崩</h2>\n            <p><strong>问题描述：</strong>缓存雪崩是指在某一个时间段，缓存集中过期或者缓存服务宕机，导致大量的请求都直接落到数据库上，造成数据库瞬时压力过大而崩溃。</p>\n            <p><strong>解决方案：</strong></p>\n            <ol>\n              <li><strong>缓存失效时间分散：</strong>在原有的失效时间基础上增加一个随机值，比如1-5分钟随机，这样每一个缓存的过期时间的重复率就会降低，就很难引发集体失效的事件。</li>\n              <li><strong>热点数据永不过期：</strong>对于一些热点数据，可以设置永不过期，然后通过后台异步更新缓存。</li>\n              <li><strong>服务熔断降级：</strong>当检测到系统负载过高时，临时降低服务质量或停止服务，等待系统恢复正常后再继续提供服务。</li>\n              <li><strong>多级缓存：</strong>设置多级缓存，例如本地缓存+Redis缓存，即使Redis宕机，本地缓存仍然可以提供服务。</li>\n              <li><strong>Redis高可用：</strong>采用Redis集群，避免单机Redis服务不可用造成的缓存雪崩。</li>\n            </ol>\n            <h2>总结</h2>\n            <p>缓存穿透、缓存击穿和缓存雪崩都是高并发系统中常见的问题，了解这些问题并采取对应的解决方案可以有效提高系统的稳定性和性能。在实际系统设计中，应该根据业务特点和系统需求选择合适的解决方案。</p>`,\n            coverImage: '/images/blog/redis-small.jpg',\n            author: { name: 'YOUNG', profileImage: '/images/avatar0.jpg' },\n            categories: [{ id: 3, name: 'Redis应用' }],\n            tags: ['Redis', '缓存', '高并发'],\n            publishedAt: '2023-09-22T10:30:00',\n            updatedAt: '2023-09-25T15:20:00',\n            viewCount: 231\n          });\n          \n          setRelatedPosts([\n            {\n              id: 4,\n              title: 'Redis实现分布式锁的最佳实践',\n              excerpt: '在分布式系统中，锁是一种重要的同步机制。本文介绍如何使用Redis实现一个高效、可靠的分布式锁。',\n              coverImage: '/images/blog/redis2-small.jpg',\n              publishedAt: '2023-10-15T09:30:00'\n            },\n            {\n              id: 5,\n              title: '使用Redis优化数据库查询性能',\n              excerpt: '数据库是系统性能的瓶颈之一，本文分享如何使用Redis缓存策略来优化数据库查询性能。',\n              coverImage: '/images/blog/redis3-small.jpg',\n              publishedAt: '2023-08-05T14:20:00'\n            }\n          ]);\n        }\n      }\n    };\n\n    fetchPost();\n    \n    // 滚动到页面顶部\n    window.scrollTo(0, 0);\n  }, [id]);\n\n  if (loading) {\n    return (\n      <div className=\"blog-post-page\">\n        <div className=\"container\">\n          <div className=\"loading-container\">\n            <div className=\"loading-spinner\"></div>\n            <p>加载中...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !post) {\n    return (\n      <div className=\"blog-post-page\">\n        <div className=\"container\">\n          <div className=\"error-container\">\n            <h2>文章加载失败</h2>\n            <p>{error || '未找到该文章'}</p>\n            <Link to=\"/blog\" className=\"btn\">返回博客列表</Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"blog-post-page\">\n      <div className=\"post-header\" style={{ backgroundImage: `url(${post.coverImage || '/images/blog/default.jpg'})` }}>\n        <div className=\"container\">\n          <div className=\"post-header-content\">\n            <div className=\"post-categories\">\n              {post.categories && post.categories.map(category => (\n                <Link to={`/blog?category=${category.name}`} key={category.id}>\n                  {category.name}\n                </Link>\n              ))}\n            </div>\n            <h1>{post.title}</h1>\n            <div className=\"post-meta\">\n              <div className=\"post-author\">\n                <img src={post.author?.profileImage || '/images/avatar0.jpg'} alt={post.author?.name} />\n                <span>{post.author?.name}</span>\n              </div>\n              <div className=\"post-info\">\n                <span className=\"post-date\">\n                  <i className=\"far fa-calendar-alt\"></i>\n                  {new Date(post.publishedAt).toLocaleDateString('zh-CN')}\n                </span>\n                {post.updatedAt && post.updatedAt !== post.publishedAt && (\n                  <span className=\"post-updated\">\n                    <i className=\"far fa-edit\"></i>\n                    更新于 {new Date(post.updatedAt).toLocaleDateString('zh-CN')}\n                  </span>\n                )}\n                <span className=\"post-views\">\n                  <i className=\"far fa-eye\"></i>\n                  {post.viewCount || 0} 阅读\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"post-content\">\n        <div className=\"container\">\n          <div className=\"post-grid\">\n            <main className=\"post-main\">\n              <article className=\"post-body\" dangerouslySetInnerHTML={{ __html: post.content }}></article>\n              \n              <div className=\"post-tags\">\n                <span className=\"tags-title\">标签：</span>\n                {post.tags && post.tags.map((tag, index) => (\n                  <Link to={`/blog?search=${tag}`} key={index} className=\"tag\">\n                    {tag}\n                  </Link>\n                ))}\n              </div>\n              \n              <div className=\"post-nav\">\n                <Link to=\"/blog\" className=\"btn back-btn\">\n                  <i className=\"fas fa-arrow-left\"></i> 返回博客列表\n                </Link>\n              </div>\n              \n              {relatedPosts.length > 0 && (\n                <div className=\"related-posts\">\n                  <h3>相关文章</h3>\n                  <div className=\"related-posts-grid\">\n                    {relatedPosts.map(relatedPost => (\n                      <div className=\"related-post-card\" key={relatedPost.id}>\n                        <Link to={`/blog/${relatedPost.id}`}>\n                          <div className=\"related-post-image\">\n                            <img src={relatedPost.coverImage || '/images/blog/default.jpg'} alt={relatedPost.title} />\n                          </div>\n                          <div className=\"related-post-content\">\n                            <h4>{relatedPost.title}</h4>\n                            <p>{relatedPost.excerpt}</p>\n                            <span className=\"related-post-date\">\n                              {new Date(relatedPost.publishedAt).toLocaleDateString('zh-CN')}\n                            </span>\n                          </div>\n                        </Link>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </main>\n            \n            <aside className=\"post-sidebar\">\n              <div className=\"sidebar-widget about-author-widget\">\n                <h3>关于作者</h3>\n                <div className=\"author-card\">\n                  <img src={post.author?.profileImage || '/images/avatar0.jpg'} alt={post.author?.name} />\n                  <h4>{post.author?.name || 'YOUNG'}</h4>\n                  <p>软件工程专业研究生，专注于分布式系统、缓存优化与RAG应用研究，乐于分享技术经验。</p>\n                  <div className=\"social-links\">\n                    <a href=\"https://github.com\" target=\"_blank\" rel=\"noreferrer\">\n                      <i className=\"fab fa-github\"></i>\n                    </a>\n                    <a href=\"https://linkedin.com\" target=\"_blank\" rel=\"noreferrer\">\n                      <i className=\"fab fa-linkedin\"></i>\n                    </a>\n                    <a href=\"https://weixin.qq.com\" target=\"_blank\" rel=\"noreferrer\">\n                      <i className=\"fab fa-weixin\"></i>\n                    </a>\n                    <a href=\"https://zhihu.com\" target=\"_blank\" rel=\"noreferrer\">\n                      <i className=\"fab fa-zhihu\"></i>\n                    </a>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"sidebar-widget toc-widget\">\n                <h3>目录</h3>\n                <div className=\"toc-content\">\n                  <ul>\n                    <li><a href=\"#一、缓存穿透\">一、缓存穿透</a></li>\n                    <li><a href=\"#二、缓存击穿\">二、缓存击穿</a></li>\n                    <li><a href=\"#三、缓存雪崩\">三、缓存雪崩</a></li>\n                    <li><a href=\"#总结\">总结</a></li>\n                  </ul>\n                </div>\n              </div>\n            </aside>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BlogPostPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}